/*
 * LEDmessagedisplay.c
 *
 * Created: 25-10-2016 01:35:22
 *  Author: MD. Ateequr Rahman
 */ 


#define F_CPU 1000000

#include <avr/io.h>
#include <util/delay.h>
#include <string.h>

int a[]={
0b11000001,0b10101111,0b01101111,0b10101111,0b11000001,0xFF,//A
0b00000001,0b01101100,0b01000101,0b01010101,0b10111011,0xFF,//B
0b10000011,0b01111101,0b01111101,0b01111101,0b10111011,0xFF,//C
0b00000001,0b01111101,0b01111101,0b10111011,0b11000111,0xFF,//D
0b00000001,0b01101101,0b01101101,0b01111101,0b01111101,0xFF,//E
0b00000001,0b01101111,0b01101111,0b01111111,0b01111111,0xFF,//F
0b10000011,0b01111101,0b01110101,0b01110101,0b10110011,0xFF,//G
0b00000001,0b11101111,0b11101111,0b11101111,0b00000001,0xFF,//H
0b01111101,0b01111101,0b00000001,0b01111101,0b01111101,0xFF,//I
0b01110011,0b01111101,0b00000011,0b01111111,0b01111111,0xFF,//J
0b00000001,0b11101111,0b11010111,0b10111011,0b01111101,0xFF,//K
0b00000001,0b11111101,0b11111101,0b11111101,0b11111101,0xFF,//L
0b00000001,0b10111111,0b11011111,0b10111111,0b00000001,0xFF,//M
0b00000001,0b10011111,0b11101111,0b11110011,0b00000001,0xFF,//N
0b10000011,0b01111101,0b01111101,0b01111101,0b10000011,0xFF,//O
0b00000001,0b01110111,0b01110111,0b01110111,0b10001111,0xFF,//P
0b10000011,0b01111101,0b01110101,0b10000011,0b11111101,0xFF,//Q
0b00000001,0b01101111,0b01100111,0b01101011,0b10011101,0xFF,//R
0b10011011,0b01101101,0b01101101,0b01101101,0b10110011,0xFF,//S
0b01111111,0b01111111,0b00000001,0b01111111,0b01111111,0xFF,//T
0b00000011,0b11111101,0b11111101,0b11111101,0b00000011,0xFF,//U
0b00000111,0b11111011,0b11111101,0b11111011,0b00000111,0xFF,//V
0b00000001,0b11111011,0b11110111,0b11111011,0b00000001,0xFF,//W
0b00111001,0b10010011,0b11101111,0b10010011,0b00111001,0xFF,//X
0b00111111,0b11011111,0b11100001,0b11011111,0b00111111,0xFF,//Y
0b01111001,0b01110101,0b01101101,0b01011101,0b00111101,0xFF};//Z
	
int b[]={
0b10110111,0b10101011,0b10101011,0b10101011,0b11000011,0xFF,//a
0b00000011,0b11011011,0b11011011,0b11011011,0b11100111,0xFF,//b
0b11000011,0b10111101,0b10111101,0b10111101,0b11011011,0xFF,//c
0b11110011,0b11101101,0b11101101,0b11101101,0b10000001,0xFF,//d
0b11000011,0b10101101,0b10101101,0b10101101,0b11001011,0xFF,//e
0b11110111,0b11110111,0b00000001,0b01110111,0b10110111,0xFF,//f
0b10011011,0b01101101,0b01101101,0b01011101,0b10000011,0xFF,//g
0b00000001,0b11110111,0b11101111,0b11101111,0b11110001,0xFF,//h
0b11111101,0b11101101,0b01000001,0b11111101,0b11111101,0xFF,//i
0b11111011,0b11111101,0b11011101,0b01000011,0b11111111,0xFF,//j
0b10000001,0b11110111,0b11100111,0b11011011,0b11111101,0xFF,//k
0b11111111,0b01111101,0b00000001,0b11111101,0b11111111,0xFF,//l
0b11000011,0b10111111,0b11000011,0b10111111,0b11000011,0xFF,//m
0b10000011,0b11011111,0b10111111,0b10111111,0b11000011,0xFF,//n
0b11000111,0b10111011,0b10111011,0b10111011,0b11000111,0xFF,//o
0b00000001,0b10110111,0b10110111,0b10110111,0b11001111,0xFF,//p
0b11001111,0b10110111,0b10110111,0b10110111,0b00000001,0xFF,//q
0b10111111,0b10000011,0b11011111,0b10111111,0b11011111,0xFF,//r
0b11011011,0b10101101,0b10101101,0b10110101,0b11011011,0xFF,//s
0b11011111,0b10000011,0b11011101,0b11111101,0b11111011,0xFF,//t
0b10000111,0b11111011,0b11111011,0b10000111,0b11111011,0xFF,//u
0b10001111,0b11110111,0b11111011,0b11110111,0b10001111,0xFF,//v
0b11000011,0b11111101,0b11000011,0b11111101,0b11000011,0xFF,//w
0b10111011,0b11010111,0b11101111,0b11010111,0b10111011,0xFF,//x
0b10011011,0b11110111,0b11101111,0b11011111,0b10111111,0xFF,//y
0b10111011,0b10110011,0b10101011,0b10011011,0b10111011,0xFF};//z



int c[8]={0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80};
int l=sizeof(a)/2;


int main(void)
{
	
	MCUCSR = (1<<JTD);
	MCUCSR = (1<<JTD);
	DDRB=0b00011111;
	DDRD=0xFF;
	DDRC=0xFE;
	DDRA=0xFF;
	//mess=calc();
int m[168];
int s=19;
	char ms[]="This is developed by MD. Ateequr Rahman";
	int q=strlen(ms);
	for(int i=0;i<(q*6)+38;i++)
	{
	m[i]=0xFF;	
	}
	
	for(int i=0;i<q;i++)
	{
		int ch=ms[i];
		if(ch>=65 && ch <=90)//capital letters
		{
			int t=((ch-65)*6);
			for(int j=t;j<(t+6);j++)
			{
				m[s++]=a[j];
			}
			
		}
		else if(ch==32)
		{
			
			for(int j=0;j<3;j++)
			{
				m[s++]=0xFF;
				
			}
			
		}
		else if(ch>=97 && ch<=122)//small letters
		{
			int t=((ch-97)*6);
			for(int j=t;j<(t+6);j++)
			{
				m[s++]=b[j];
			}
		}
		
	}
	int k=q*6+19;
	
	
    while(1)
    {
      for(int i=0;i<k;i++)
      {
	      int n=20;
	      while(n>0)
	      {
		      PORTD=m[i];
		      PORTB=c[4];
		      PORTA=0;
		      PORTC=0;
		      _delay_us(500);
		      PORTD=m[i+1];
		      PORTB=c[3];
		      PORTA=0;
		      PORTC=0;
		      _delay_us(500);
		      PORTD=m[i+2];
		      PORTB=c[2];
		      PORTA=0;
		      PORTC=0;
		      _delay_us(500);
		      PORTD=m[i+3];
		      PORTB=c[1];
		      PORTA=0;
		      PORTC=0;
		      _delay_us(500);
		      PORTD=m[i+4];
		      PORTB=c[0];
		      PORTA=0;
		      PORTC=0;
		      _delay_us(500);
		      PORTD=m[i+5];
		      PORTB=0;
		      PORTA=c[4];
		      PORTC=0;
		      _delay_us(500);
		      PORTD=m[i+6];
		      PORTB=0;
		      PORTA=c[3];
		      PORTC=0;
		      _delay_us(500);
		      PORTD=m[i+7];
		      PORTB=0;
		      PORTA=c[2];
		      PORTC=0;
		      _delay_us(500);
		      PORTD=m[i+8];
		      PORTB=0;
		      PORTA=c[1];
		      PORTC=0;
		      _delay_us(500);
		      PORTD=m[i+9];
		      PORTB=0;
		      PORTA=c[0];
		      PORTC=0;
		      _delay_us(500);
		      PORTD=m[i+10];
		      PORTB=0;
		      PORTA=0;
		      PORTC=c[6];
		      _delay_us(500);
		      PORTD=m[i+11];
		      PORTB=0;
		      PORTA=0;
		      PORTC=c[7];
		      _delay_us(500);
		      PORTD=m[i+12];
		      PORTB=0;
		      PORTA=c[7];
		      PORTC=0;
		      _delay_us(500);
		      PORTD=m[i+13];
		      PORTB=0;
		      PORTA=c[6];
		      PORTC=0;
		      _delay_us(500);
		      PORTD=m[i+14];
		      PORTB=0;
		      PORTA=c[5];
		      PORTC=0;
		      _delay_us(500);
		      PORTD=m[i+15];
		      PORTB=0;
		      PORTA=0;
		      PORTC=c[1];
		      _delay_us(500);
		      PORTD=m[i+16];
		      PORTB=0;
		      PORTA=0;
		      PORTC=c[2];
		      _delay_us(500);
		      PORTD=m[i+17];
		      PORTB=0;
		      PORTA=0;
		      PORTC=c[3];
		      _delay_us(500);
		      PORTD=m[i+18];
		      PORTB=0;
		      PORTA=0;
		      PORTC=c[4];
		      _delay_us(500);
		      PORTD=m[i+19];
		      PORTB=0;
		      PORTA=0;
		      PORTC=c[5];
		      _delay_us(500);
		      n--;
	      }
      }

  
    }
}